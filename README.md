# Dexweb
Dexweb is a Python package to generate a website from text, PDF, DOCX, PPTX, and JSON files. Dexweb is useful for rapidly updated websites. [The Matrix Dex](https://alinoorul.github.io) is generated by dexweb and freely hosted on GitHub Pages. Dexweb was built by [Research Engine](https://alinoorul.github.io/researchengine.html) for scientists to host their own journals, companies to publish financial reports in HTML, users to blog with Python, and more.

## TL; DR How to use dexweb?
```bash
pip install dexweb
```

```run.py```
```bash
from dexweb import dexgen
dex = dexgen.Dexgen()
```
Run ```python run.py``` once. Put files in ```/to_add``` folder. Run ```python run.py``` twice. ```/gen/index.html``` (in the ```/gen``` folder) is your website.

## About dexweb

Dexweb converts text from files into a JSON intermediate file ```data.json```. This JSON intermediate has a list of objects, each of which generates a webpage in the website. The object (source code) for each webpage contains a string ```title``` and a list of strings ```body = [paragraph1, paragraph2]```. Each string in ```body``` makes a paragraph in the webpage. Hyperlinks, images, tables and other HTML objects are added as tags in paragraphs, like HTML.

## Dexweb documentation

### Installation

```bash
pip install dexweb
```

### Initial setup

```bash
python run.py
```

Creates supporting directories and a sample dex. Root directory where Python command is run must have ```run.py```. When ```run.py``` for the first time, the instantiation of a Dexgen object generates folders ```/backup```, ```/to_add```, and ```/gen```, and files ```config.json``` and ```data.json```.

### Add files

Add PDF, JSON, TXT, PPTX, and DOCX files to ```/to_add``` folder. 

Run

```bash 
python run.py
```
This generates editable ```dummy.json``` in root directory.

Run ```python run.py``` again to make a dex in ```/gen``` folder.

Editable ```dummy.json``` for hyperlinks and formatting.

### Viewing website

Open ```index.html``` in ```/gen``` folder.

### Adding data manually

Manually edit ```data.json```. 

```bash
python run.py
```
Re-generate website with new data (backup functionality not added here).

### Editing ```data.json``` and ```dummy.json``` files

File structure:
```bash
[
  {"title": "Page 1"
  "body": ["Page 1", "<a href='page2.html'>Page 2</a>"]},
  {"title": "Page 2"
  "body": ["Page 2", "<a href='page1.html'>Page 1</a>"]}
]
```
Alphanumberic title for each page without spaces and in lowercase forms the title of the HTML file. Add links by adding the ```<a>``` tag in strings in the body object for each webpage object.

Strings in ```body``` form paragraphs of the webpage. ```data.json``` and ```dummy.json``` are lists of JSON objects. Each object in the list represents a webpage. The title of each page is unique. In case the same title is detected for 2 objects inside the ```data.json``` file or between ```data.json``` and ```dummy.json``` files, the objects are combined into 1 webpage with the same title and body strings combined. This can be used to edit ```dummy.json```.

To add to an existing page in ```data.json```, use a webpage object ```dummy.json``` objects with the same title as existing webpage object in ```data.json```. to add data to a specific webpage instead of creating a new one. 


### JSON webpage strcuture

Each webpage object in ```data.json``` and ```dummy.json``` is a JSON object.

```bash
{"title": "", "body": []},
```

### Root directory structure

```/gen``` folder: Website root folder with HTML files, ```styles.css``` and ```/assets``` folder. ```/gen/index.html``` is the entry point to this website, also referred to as dex and webdex.

```backup``` folder: Contains backup of ```data.json```. This backup is updated when ```data.json``` is updated using files from the ```/to_add``` folder.

```to_add``` folder: Appends data to dex. Add PDF, text, document, presentation, and JSON files here. The first time you add files here and run ```python run.py```, text from these files will be added to ```dummy.json```. You can edit ```dummy.json``` before committing it to source ```data.json```. Once data is added to ```dummy.json```, files in the ```/to_add``` folder are moved to the ```/to_add/clear``` subfolder.

```data.json```: Contains the source code for each webpage. ```data.json``` stores a list of objects in JSON format. Each object contains a ```title``` string and a ```body``` list of strings. 'Title' denotes title of the HTML page and name of the HTML file for that page for easier hyperlinking. Lowercase, space and special character (not number) removed title string forms the HTML filename. This file is meant to be edited in Visual Studio Code, using it as a word editor.

```config.json```: Stores the name of the dex. This serves as the source name that is used across the script as dexname. It also stores the name of the author.

### Backup functionality

When ```data.json``` is updated with data from ```dummy.json``` (from ```/to_add``` folder) when ```run.py``` is run a second time, a backup is made. This backup is stored in ```/backup``` folder as ```data.json```. If ```data.json``` was updated wrongly and you'd like to go back to the original ```data.json``` file without added content from the ```/raw``` folder, replace ```/data.json``` with ```/backup/data.json``` and run ```python dev.py``` to generate the original dex (without added data). 

### Working example

[The Matrix Dex](https://alinoorul.github.io) is a webdex. Current webdex workflow of this website's maintainer comprises of editing ```data.json```, running ```dev.py``` to get updated website and adding updated HTML files to the project hosted [here](https://github.com/alinoorul/alinoorul.github.io) on GitHub Pages. [https://alinoorul.github.io](https://alinoorul.github.io) is the free URL thanks to GitHub.   

### Next steps

Automatic search and hyperlink.

Neural network control for smarter website generation with images, tables etc.

## Need help?

Ask the human behind dexweb at manonthemoon13131@gmail.com.




